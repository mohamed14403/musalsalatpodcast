import React, { useState } from "react";
import { FaHome, FaSearch, FaMusic, FaCog, FaTrash } from "react-icons/fa";
import { motion } from "framer-motion";

const validEmail = "medo14403@yahoo.com";
const validPassword = "M####edo&&&&14403";

const Banner = () => (
  <motion.div 
    initial={{ opacity: 0, scale: 0.9 }} 
    animate={{ opacity: 1, scale: 1 }} 
    transition={{ duration: 1 }}
    className="w-full h-64 bg-gradient-to-r from-purple-700 to-indigo-900 flex flex-col items-center justify-center text-white text-5xl font-extrabold shadow-xl relative overflow-hidden"
  >
    <motion.span initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3, duration: 0.8 }} className="z-10">
      ๐ญ ูุณูุณูุงุช ูู ุชุฃูููู - ุญูุซ ุชุจุฏุฃ ุงูุญูุงูุงุช
    </motion.span>
    <motion.span initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.6, duration: 0.8 }} className="text-xl font-light mt-2 text-gray-200 z-10">
      ูุงูุฐุฉ ูู ุฏุงุฎู ุฅูุณุงู
    </motion.span>
    <div className="absolute inset-0 bg-gradient-to-t from-black via-transparent to-black opacity-50"></div>
  </motion.div>
);

const Sidebar = ({ setPage }) => (
  <motion.div initial={{ x: -200 }} animate={{ x: 0 }} transition={{ duration: 0.5 }} className="w-64 h-screen bg-gradient-to-b from-black to-gray-900 text-gray-300 p-4 flex flex-col shadow-lg">
    <h1 className="text-white text-2xl font-extrabold mb-6 tracking-wide">๐ฌ ูุณูุณูุงุช ูู ุชุฃูููู</h1>
    <nav className="space-y-4">
      <button onClick={() => setPage("home")} className="flex items-center space-x-2 text-white hover:text-green-500"><FaHome /> <span>ุงูุฑุฆูุณูุฉ</span></button>
      <button onClick={() => setPage("search")} className="flex items-center space-x-2 text-white hover:text-green-500"><FaSearch /> <span>ุจุญุซ</span></button>
      <button onClick={() => setPage("library")} className="flex items-center space-x-2 text-white hover:text-green-500"><FaMusic /> <span>ููุชุจุชู</span></button>
      <button onClick={() => setPage("admin")} className="flex items-center space-x-2 text-white hover:text-red-500"><FaCog /> <span>ููุญุฉ ุงูุชุญูู</span></button>
    </nav>
  </motion.div>
);

const Dashboard = () => {
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [isAuthenticated, setIsAuthenticated] = useState(false);
  const [uploads, setUploads] = useState([]);
  
  const handleLogin = () => {
    if (email === validEmail && password === validPassword) {
      setIsAuthenticated(true);
    } else {
      alert("ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ");
    }
  };

  const handleUpload = (e) => {
    e.preventDefault();
    const newUpload = {
      id: Date.now(),
      name: e.target.audio.files[0]?.name,
      description: e.target.description.value,
    };
    setUploads([...uploads, newUpload]);
    e.target.reset();
  };

  const handleDelete = (id) => {
    setUploads(uploads.filter(upload => upload.id !== id));
  };

  if (!isAuthenticated) {
    return (
      <div className="flex flex-col items-center justify-center min-h-screen bg-gray-800 text-white">
        <h2 className="text-3xl font-bold mb-6">ุชุณุฌูู ุงูุฏุฎูู</h2>
        <input type="email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" value={email} onChange={(e) => setEmail(e.target.value)} className="p-3 rounded-lg text-black mb-4 w-80" />
        <input type="password" placeholder="ูููุฉ ุงููุฑูุฑ" value={password} onChange={(e) => setPassword(e.target.value)} className="p-3 rounded-lg text-black mb-4 w-80" />
        <button onClick={handleLogin} className="bg-green-500 px-6 py-2 rounded-lg text-white font-bold hover:bg-green-700 transition">ุชุณุฌูู ุงูุฏุฎูู</button>
      </div>
    );
  }

  return (
    <div className="flex flex-col items-center justify-center min-h-screen bg-gray-800 text-white">
      <h2 className="text-3xl font-bold mb-6">ุฅุฏุงุฑุฉ ูููุงุช MP3</h2>
      <form onSubmit={handleUpload} className="flex flex-col items-center">
        <input type="file" name="audio" accept="audio/mp3" className="p-3 rounded-lg text-black mb-4 w-80" />
        <textarea name="description" placeholder="ูุตู ุงูุตูุช" className="p-3 rounded-lg text-black mb-4 w-80 h-24"></textarea>
        <button type="submit" className="bg-blue-500 px-6 py-2 rounded-lg text-white font-bold hover:bg-blue-700 transition">ุฑูุน ุงูููู</button>
      </form>
      <ul className="mt-6 w-80">
        {uploads.map(upload => (
          <li key={upload.id} className="flex justify-between bg-gray-700 p-3 rounded-lg mb-2">
            <span>{upload.name}</span>
            <button onClick={() => handleDelete(upload.id)} className="text-red-500 hover:text-red-700"><FaTrash /></button>
          </li>
        ))}
      </ul>
    </div>
  );
};

const Home = () => {
  const [page, setPage] = useState("home");
  return (
    <div className="flex flex-col bg-gray-800 min-h-screen text-white">
      {page !== "admin" && <Banner />}
      <div className="flex flex-1">
        <Sidebar setPage={setPage} />
        <div className="flex-1 p-6">
          {page === "home" && <h2 className="text-4xl font-extrabold text-green-400">๐ฅ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</h2>}
          {page === "admin" && <Dashboard />}
        </div>
      </div>
    </div>
  );
};

export default Home;
